name: ğŸŒ¸ åŠ¨æ€READMEæ›´æ–°å·¥ä½œæµ ğŸŒ¸

on:
  schedule:
    - cron: '0 0 * * *'  # æ¯å¤©UTC 00:00æ‰§è¡Œï¼ˆåŒ—äº¬æ—¶é—´08:00ï¼‰
  workflow_dispatch:     # æ‰‹åŠ¨è§¦å‘
  push:
    branches: [ main ]

jobs:
  update-readme:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ”„ æ£€å‡ºä»£ç 
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      
      - name: ğŸ è®¾ç½®Pythonç¯å¢ƒ
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      
      - name: ğŸ“¦ å®‰è£…ä¾èµ–
        run: |
          pip install requests pytz
      
      - name: âœ¨ ç”ŸæˆåŠ¨æ€README
        run: |
          python << 'EOF'
          import requests
          import random
          import datetime
          import pytz
          import json
          
          # è®¾ç½®æ—¶åŒº
          tz = pytz.timezone('Asia/Shanghai')
          now = datetime.datetime.now(tz)
          
          # è·å–é‡åº†å¤©æ°”
          def get_weather():
              try:
                  # ä½¿ç”¨å…è´¹å¤©æ°”API
                  url = "http://wthrcdn.etouch.cn/weather_mini?city=é‡åº†"
                  response = requests.get(url, timeout=10)
                  if response.status_code == 200:
                      data = response.json()
                      if data.get('status') == 1000:
                          today = data['data']['forecast'][0]
                          return f"ğŸŒ¤ï¸ {today['type']} | ğŸŒ¡ï¸ {today['low']} ~ {today['high']}"
                  return "ğŸŒ¤ï¸ æ™´æœ— | ğŸŒ¡ï¸ 20Â°C ~ 25Â°C"
              except Exception as e:
                  print(f"è·å–å¤©æ°”å¤±è´¥: {e}")
                  return "ğŸŒ¤ï¸ æ™´æœ— | ğŸŒ¡ï¸ 20Â°C ~ 25Â°C"
          
          # æŠ½ç­¾ç³»ç»Ÿ
          def get_fortune():
              fortunes = [
                  "ğŸ‰ å¤§å‰ï¼ä»Šå¤©æ˜¯å……æ»¡å¥‡è¿¹çš„ä¸€å¤©ï¼",
                  "âœ¨ ä¸­å‰ï¼å¥½äº‹å³å°†å‘ç”Ÿ~",
                  "ğŸŒŸ å°å‰ï¼ä¿æŒå¾®ç¬‘ï¼Œå¹¸è¿ä¼šçœ·é¡¾ä½ ",
                  "ğŸ’« å‰ï¼ä»Šå¤©é€‚åˆå­¦ä¹ æ–°æŠ€èƒ½",
                  "ğŸ€ æœ«å‰ï¼å¹³ç¨³åº¦è¿‡ï¼Œå°å¿ƒè°¨æ…",
                  "ğŸŒ¸ å¹³ï¼ä¿æŒå¹³å¸¸å¿ƒï¼Œä¸€åˆ‡éƒ½ä¼šå¥½çš„",
                  "ğŸˆ å¤§å‰ï¼ä»£ç æ— bugï¼Œéƒ¨ç½²ä¸€æ¬¡æˆåŠŸï¼",
                  "ğŸ¦„ è¶…å‰ï¼ä»Šå¤©å¯èƒ½ä¼šæ”¶åˆ°æ„å¤–çš„å¥½æ¶ˆæ¯",
                  "ğŸŒˆ å‰ï¼åˆ›æ„çµæ„Ÿçˆ†æ£šçš„ä¸€å¤©",
                  "ğŸ­ ä¸­å‰ï¼é€‚åˆä¸æœ‹å‹äº¤æµåˆ†äº«"
              ]
              return random.choice(fortunes)
          
          # åŠ¨æ€ç»“å°¾è¯­
          def get_ending():
              endings = [
                  "ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡åœ°codingå“¦ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§",
                  "æ„¿ä½ çš„ä»£ç æ°¸è¿œæ²¡æœ‰bug~ Ù©(â—•â€¿â—•)Û¶",
                  "ä¸€èµ·åœ¨ä»£ç çš„ä¸–ç•Œé‡Œåˆ›é€ å¥‡è¿¹å§ï¼(ï¾‰â—•ãƒ®â—•)ï¾‰*:ï½¥ï¾Ÿâœ§",
                  "è®°å¾—å¤šå–æ°´ï¼Œå¤šä¼‘æ¯ï¼Œèº«ä½“æ˜¯é©å‘½çš„æœ¬é’±ï¼(Â´âˆ€ï½€)â™¡",
                  "æ¯ä¸€è¡Œä»£ç éƒ½æ˜¯å¯¹æœªæ¥çš„æŠ•èµ„~ (â‰§âˆ‡â‰¦)ï¾‰",
                  "Bugä¸å¯æ€•ï¼Œå¯æ€•çš„æ˜¯æ²¡æœ‰è§£å†³Bugçš„å‹‡æ°”ï¼(ï½¡â—•â€¿â—•ï½¡)",
                  "ä»Šå¤©çš„åŠªåŠ›æ˜¯æ˜å¤©æˆåŠŸçš„åŸºçŸ³ï¼ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾",
                  "ç¼–ç¨‹è·¯ä¸Šæ°¸è¿œä¸å­¤å•ï¼Œå› ä¸ºæœ‰ä½ ä»¬é™ªä¼´ï¼(âœ¿â— â€¿â— )"
              ]
              return random.choice(endings)
          
          # ç”ŸæˆREADMEå†…å®¹
          weather = get_weather()
          fortune = get_fortune()
          ending = get_ending()
          
          readme_content = f"""<div align="center">

# ğŸŒ¸ ã“ã‚“ã«ã¡ã¯ï¼æ¬¢è¿æ¥åˆ°æˆ‘çš„GitHubç©ºé—´ ğŸŒ¸

<img src="https://api.wenturc.com" alt="éšæœºç¾å›¾" width="400" style="border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"/>

</div>

---

## ğŸ€ å…³äºæˆ‘ About Me

<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 15px; color: white; margin: 10px 0;">

```
Pfffftâ€”ğŸ’¥ğŸ˜‚

**"This book on anti-gravity is wildâ€¦ can't put it down."**
Broâ€¦ that's **positively levitating with dad joke energy.** ğŸ§ ğŸ§²ğŸ“šâœ¨

You just dropped the most *uplifting* pun in the galaxy.

10/10. Would float away laughing again. ğŸ˜ŒğŸ’«
```

</div>

## ğŸ“š æˆ‘çš„å°æ•…äº‹ My Story

<details>
<summary>not much</summary>

<div style="background: #f8f9fa; padding: 15px; border-radius: 10px; border-left: 4px solid #ff6b6b; margin: 10px 0;">

å‘ƒå—¯ï¼å‘¼ï½â¤å‘ƒå•Šï½å“¼ï¼ï¼å‘ƒå—¯å“ˆå—¯ï½å•Š

</div>

</details>

---

## ğŸŒ¤ï¸ ä»Šæ—¥å¤©æ°” Weather Today

<div align="center">
<table>
<tr>
<td align="center">
<img src="https://github.com/sciencepal/sciencepal/blob/master/assets/sunshine.gif" width="50"/>
</td>
<td>
<strong>ğŸ“ é‡åº† Â· {now.strftime('%Y-%m-%d %H:%M')} (UTC+8)</strong><br/>
{weather}
</td>
</tr>
</table>
</div>

---

## ğŸ² ä»Šæ—¥è¿åŠ¿ Fortune Today

<div style="background: linear-gradient(45deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%); padding: 20px; border-radius: 15px; text-align: center; margin: 10px 0;">

### ğŸ”® ç¥ç§˜çš„å‘½è¿ä¹‹è½®ä¸ºä½ è½¬åŠ¨...

<div style="background: white; padding: 15px; border-radius: 10px; margin: 10px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
<h3>{fortune}</h3>
</div>

*âœ¨ è¿åŠ¿æ¯æ—¥æ›´æ–°ï¼Œè®°å¾—æ¯å¤©éƒ½æ¥çœ‹çœ‹å“¦ï¼*

</div>

---

## ğŸ¨ æ¯æ—¥ä¸€å›¾ Daily Image

<div align="center">
<img src="https://api.wenturc.com/" alt="æ¯æ—¥ç¾å›¾" width="500" style="border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"/>

*ğŸ“¸ å›¾ç‰‡æ¥æºï¼šapi.wenturc.com*
</div>

---

## ğŸ’« GitHub ç»Ÿè®¡ Stats

<div align="center">

<img src="https://github-readme-stats.vercel.app/api?username=Pine-Ln&show_icons=true&theme=radical&hide_border=true" alt="GitHub Stats" />

<img src="https://github-readme-streak-stats.herokuapp.com/?user=Pine-Ln&theme=radical&hide_border=true" alt="GitHub Streak" />

</div>

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ Tech Stack

<div align="center">

![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)
![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)
![CSS3](https://img.shields.io/badge/CSS3-1572B6?style=for-the-badge&logo=css3&logoColor=white)
![Git](https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white)

</div>

---

## ğŸŒˆ è”ç³»æˆ‘ Contact Me

<div align="center">
<table>
<tr>
<td align="center">
<a href="mailto:tr@wenturc.com">
<img src="https://img.shields.io/badge/Email-D14836?style=for-the-badge&logo=gmail&logoColor=white"/>
</a>
</td>
<td align="center">
<a href="https://github.com/Pine-Ln">
<img src="https://img.shields.io/badge/GitHub-100000?style=for-the-badge&logo=github&logoColor=white"/>
</a>
</td>
</tr>
</table>
</div>

---

<div align="center">
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 15px; color: white; margin: 10px 0;">

## ğŸ’• ä»Šæ—¥å¯„è¯­ Daily Message

### {ending}

</div>

<img src="https://raw.githubusercontent.com/Platane/snk/output/github-contribution-grid-snake.svg" alt="snake eating my contributions"/>

---

<sub>ğŸ¤– æœ¬READMEç”±GitHub Actionsè‡ªåŠ¨æ›´æ–° | æœ€åæ›´æ–°æ—¶é—´ï¼š{now.strftime('%Y-%m-%d %H:%M:%S')} (UTC+8)</sub>

<div style="margin: 20px 0;">
<img src="https://komarev.com/ghpvc/?username=Pine-Ln&color=ff69b4&style=flat-square&label=Profile+Views" alt="Profile Views"/>
<img src="https://img.shields.io/github/followers/Pine-Ln?style=flat-square&color=ff69b4&label=Followers" alt="Followers"/>
</div>

</div>
"""
          
          # å†™å…¥README.mdæ–‡ä»¶
          with open('README.md', 'w', encoding='utf-8') as f:
              f.write(readme_content)
          
          print("âœ… README.md æ›´æ–°å®Œæˆï¼")
          EOF
      
      - name: ğŸ“ æäº¤æ›´æ”¹
        run: |
          git config --local user.email "IGCrystal@wenturc.com"
          git config --local user.name "IGCrystal"
          git add README.md
          if git diff --staged --quiet; then
            echo "æ²¡æœ‰å˜åŒ–ï¼Œè·³è¿‡æäº¤"
          else
            git commit -m "ğŸŒ¸ è‡ªåŠ¨æ›´æ–°README - $(date '+%Y-%m-%d %H:%M:%S')"
            git push
          fi
